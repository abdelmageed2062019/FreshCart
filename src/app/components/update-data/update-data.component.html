<div class="my-4">
  <h2>Update Data:</h2>
  <div *ngIf="apiError" class="alert alert-danger p-0">
    <p class="m-0 p-1">{{ apiError }}</p>
  </div>
  <form [formGroup]="newDataForm" (ngSubmit)="updateData(newDataForm)">
    <div class="mt-2">
      <label for="">Name:</label>
      <input formControlName="name" type="text" class="form-control" />

      <div
        class="alert alert-danger mt-1 p-2"
        *ngIf="
          newDataForm.get('name')?.touched && newDataForm.get('name')?.errors
        "
      >
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('name')?.errors?.['required']"
        >
          Name is Required
        </p>
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('name')?.errors?.['minlength']"
        >
          Name min is 3
        </p>
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('name')?.errors?.['maxlength']"
        >
          Name max is 15
        </p>
      </div>
    </div>

    <div class="mt-2">
      <label for="">Email:</label>
      <input formControlName="email" type="email" class="form-control" />

      <div
        class="alert alert-danger mt-1 p-2"
        *ngIf="
          newDataForm.get('email')?.touched && newDataForm.get('email')?.errors
        "
      >
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('email')?.errors?.['required']"
        >
          Email is Required
        </p>
        <p class="m-0 p-1" *ngIf="newDataForm.get('email')?.errors?.['email']">
          Enter valid Email
        </p>
      </div>
    </div>

    <div class="mt-2">
      <label for="">Phone:</label>
      <input formControlName="phone" type="tel" class="form-control" />

      <div
        class="alert alert-danger mt-1 p-2"
        *ngIf="
          newDataForm.get('phone')?.touched && newDataForm.get('phone')?.errors
        "
      >
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('phone')?.errors?.['required']"
        >
          phone is Required
        </p>
        <p
          class="m-0 p-1"
          *ngIf="newDataForm.get('phone')?.errors?.['pattern']"
        >
          Enter valid Phone Number
        </p>
      </div>
    </div>

    <button
      class="bg-main text-white btn-secondary rounded border-0 p-2 mt-3 d-block ms-auto"
      [disabled]="newDataForm.invalid"
    >
      <span *ngIf="!isLoading">Update</span>
      <i *ngIf="isLoading" class="fa fa-spin fa-spinner"></i>
    </button>
  </form>
</div>
